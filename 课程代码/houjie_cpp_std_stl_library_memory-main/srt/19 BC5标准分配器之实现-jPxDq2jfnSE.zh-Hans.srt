1
00:00:04,608 --> 00:00:07,936
也曾经叱咤风云的互联是一家家

2
00:00:08,448 --> 00:00:09,984
这个编译器

3
00:00:10,496 --> 00:00:13,056
它所附带的allocator

4
00:00:13,312 --> 00:00:14,080
设置在这里

5
00:00:15,872 --> 00:00:18,176
他的两个重要的函数在这边

6
00:00:20,224 --> 00:00:22,016
这两个函数所做的事情

7
00:00:26,368 --> 00:00:28,672
原来他们里头

8
00:00:28,928 --> 00:00:35,072
要用这个operator new product第1讲里面已经非常清楚了说什么事

9
00:00:35,328 --> 00:00:38,400
事情这个就调用没了这个就是丈夫

10
00:00:39,424 --> 00:00:44,032
所以在波Lancy底下原来分配器也是

11
00:00:44,288 --> 00:00:45,568
什么都没有做

12
00:00:46,592 --> 00:00:48,896
他就是上背了回来

13
00:00:50,432 --> 00:00:53,760
这个是在波浪式下的容器

14
00:00:55,552 --> 00:01:00,672
容器里面的第2个模板参数指定要用这一个裸体的

15
00:01:02,976 --> 00:01:06,560
所以这个情况跟刚刚看到VC完全一样

16
00:01:06,816 --> 00:01:09,888
我们也了解了在这个平台下面

17
00:01:10,656 --> 00:01:14,240
你如果有100万个元素在容器里头

18
00:01:14,752 --> 00:01:17,056
我现在非常强调容器因为

19
00:01:17,312 --> 00:01:18,848
现在写代码

20
00:01:19,104 --> 00:01:24,992
你都不需要在自己开发射数据结构那些数据结构最经典的都已经写成中起了

21
00:01:25,248 --> 00:01:31,392
标准库里头说我们很重视容器的效率然后现在发现了容器用了这

22
00:01:31,648 --> 00:01:33,440
这一些locator这些分配器

23
00:01:35,232 --> 00:01:36,768
他其实只是

24
00:01:37,024 --> 00:01:38,304
每一块都带着工具

25
00:01:39,584 --> 00:01:42,400
那我们现在的目的是希望能够去除这

26
00:01:42,912 --> 00:01:49,056
去除空气有一个先决条件就是你的区块要一样大小如果你的

27
00:01:49,312 --> 00:01:55,456
去筷子有大有小有大有小你怎么可以去除空间的空气就在进入区块的大小那你不能去除它

28
00:01:56,992 --> 00:02:00,576
但是现在容器里头的所有的元素是一样的大小

29
00:02:00,832 --> 00:02:03,392
先决条件这个很重要
