1
00:00:00,256 --> 00:00:06,400
好我们来看一看

2
00:00:06,656 --> 00:00:12,800
Kate 1272这个这个最下级市场的中间是Hello Kitty

3
00:00:13,056 --> 00:00:15,616
他们是更高级的那个显示中间

4
00:00:16,128 --> 00:00:17,920
这一层的blk

5
00:00:18,944 --> 00:00:25,088
这里头分为两个函数所以其实d26k要做什么事情呢现在还那根指针进去他到底如我在

6
00:00:25,344 --> 00:00:26,624
我在这一串

7
00:00:26,880 --> 00:00:33,024
这1万个随便讲一半个地图的哪一个券可这个先要确定下来要去找寻

8
00:00:33,280 --> 00:00:36,352
出来找到之后就简单了

9
00:00:37,376 --> 00:00:43,264
找到之后就交给下下一级的兄弟去做那个下一集刚刚已经分析过了

10
00:00:43,520 --> 00:00:47,104
第1级就是中间的二级最

11
00:00:47,360 --> 00:00:49,408
一个动作是早

12
00:00:49,920 --> 00:00:52,736
这么早是从头早起吗

13
00:00:52,992 --> 00:00:54,784
设置一个最直观的方法

14
00:00:55,040 --> 00:00:59,136
刚刚已经提过了有一根指针红色的

15
00:00:59,392 --> 00:01:00,672
OK

16
00:01:01,184 --> 00:01:06,816
唱个这个指针会去指出来上一次就回收到这里

17
00:01:07,072 --> 00:01:10,656
看看马上先看看是不是这一次也会收到这里

18
00:01:11,680 --> 00:01:16,032
在刚刚解释过了由于这个区域性的关系很可能真的会这样

19
00:01:16,288 --> 00:01:19,360
所以他去找找到的结果

20
00:01:19,616 --> 00:01:21,920
这样这个标兵吗标志出来

21
00:01:23,456 --> 00:01:24,480
然后就

22
00:01:24,736 --> 00:01:27,040
真正去打回收

23
00:01:27,296 --> 00:01:28,832
分为这两个动作

24
00:01:30,880 --> 00:01:31,904
这个

25
00:01:33,184 --> 00:01:33,696
好

26
00:01:34,208 --> 00:01:35,488
在这里呢

27
00:01:36,000 --> 00:01:36,768
作者

28
00:01:37,024 --> 00:01:38,048
写了一个

29
00:01:39,840 --> 00:01:45,984
他认为高有效率的比较有效率的查找的方法搜寻敌方

30
00:01:46,240 --> 00:01:48,288
爸爸叫莫斯定的T1

31
00:01:48,800 --> 00:01:49,312
下一页

32
00:01:51,360 --> 00:01:54,944
Vicinity是什么意思就是临近

33
00:01:55,712 --> 00:01:57,760
你可以从来没有看过这种

34
00:01:58,272 --> 00:01:59,296
查找法

35
00:01:59,808 --> 00:02:04,928
你看的是什么二分查找分查找的话需要先排序

36
00:02:05,184 --> 00:02:07,488
还去那可能要耗掉不少时间

37
00:02:07,744 --> 00:02:10,816
或者其他的顺序查找法这个

38
00:02:11,072 --> 00:02:14,912
二分查找寻序查找

39
00:02:15,424 --> 00:02:20,544
在最坏的情况下他对吗这个facility fine是怎么一回事我们来看看

40
00:02:21,312 --> 00:02:23,104
好首先在第5行

41
00:02:23,360 --> 00:02:25,152
先算出来

42
00:02:25,408 --> 00:02:26,432
The trunk

43
00:02:27,200 --> 00:02:32,064
一个唱个指向着真正的内存的头跟这个为这个长度了

44
00:02:32,576 --> 00:02:33,344
长度

45
00:02:33,600 --> 00:02:35,392
为什么等一下夹杀

46
00:02:35,648 --> 00:02:38,720
用夹沙发就刚刚是不是落在这个巧克力豆

47
00:02:39,232 --> 00:02:41,792
这些准备好这个变量

48
00:02:43,072 --> 00:02:43,840
接下来

49
00:02:44,096 --> 00:02:45,376
这里有

50
00:02:45,632 --> 00:02:46,144
Loewe

51
00:02:46,400 --> 00:02:46,912
Hi

52
00:02:47,168 --> 00:02:49,984
还有漏放iPhone

53
00:02:51,008 --> 00:02:55,104
露是什么呢就是那个标志标兵

54
00:02:56,384 --> 00:02:57,664
我现在换到这里了

55
00:02:58,688 --> 00:03:02,272
上一次正经事还到这一个巧克力这里头去

56
00:03:03,296 --> 00:03:04,320
标识

57
00:03:04,832 --> 00:03:05,856
现在打架喽

58
00:03:07,136 --> 00:03:08,160
Hide

59
00:03:08,416 --> 00:03:10,208
Hi就是陋加一

60
00:03:10,720 --> 00:03:11,488
这是这一个

61
00:03:12,768 --> 00:03:15,840
我现在这个图这样的话它是一个Master

62
00:03:16,608 --> 00:03:18,400
这里头有很多很多的价格

63
00:03:18,656 --> 00:03:19,680
其中的两个

64
00:03:20,448 --> 00:03:21,472
一个叫喽

65
00:03:21,728 --> 00:03:22,752
一个小孩

66
00:03:24,032 --> 00:03:26,592
还有No one是什么

67
00:03:26,848 --> 00:03:30,176
Load边界是什么呢

68
00:03:30,432 --> 00:03:32,480
这是整个别的起点

69
00:03:33,248 --> 00:03:35,040
嗨棒是什么呢

70
00:03:35,552 --> 00:03:36,064
是

71
00:03:37,344 --> 00:03:38,112
中鸟

72
00:03:40,416 --> 00:03:44,256
这个project是这个vector的函数

73
00:03:44,512 --> 00:03:46,304
可以抓到他的头中尾

74
00:03:49,376 --> 00:03:51,168
这样在做什么呢到底

75
00:03:54,496 --> 00:03:55,520
你12号

76
00:03:56,288 --> 00:03:58,592
又一次的暴力哲学

77
00:03:59,616 --> 00:04:01,152
兵分两路

78
00:04:02,432 --> 00:04:03,968
Particle的动作

79
00:04:04,224 --> 00:04:06,272
就是先炒肉

80
00:04:07,296 --> 00:04:09,856
这标并标出来的

81
00:04:10,112 --> 00:04:13,184
这家沙发看看是不是落在这里

82
00:04:13,440 --> 00:04:18,559
这个指针是不是落在这里如果不是然后的话那么就确定一下吧

83
00:04:20,351 --> 00:04:22,911
如果以他也不在他那

84
00:04:23,423 --> 00:04:28,799
就往上一个看看如果找不到就往friend找

85
00:04:29,311 --> 00:04:31,615
这个找不到就往back找

86
00:04:33,151 --> 00:04:37,247
网上找一个往下找一个网上找一个往下找一个

87
00:04:37,503 --> 00:04:42,879
这个就是他所谓的first visited by林进的搜寻

88
00:04:44,671 --> 00:04:47,231
这里有数学可以支撑吗没有

89
00:04:47,999 --> 00:04:50,815
这个但是好像逻辑想象会比

90
00:04:51,327 --> 00:04:52,607
会笔马上就

91
00:04:52,863 --> 00:04:54,655
循序查找要好一点

92
00:04:56,703 --> 00:04:58,495
一个经验法则吧

93
00:04:59,007 --> 00:05:01,823
我们觉得也是蛮有趣的

94
00:05:02,591 --> 00:05:05,151
好所以他这个暴力的用for Uber

95
00:05:06,175 --> 00:05:07,455
里头

96
00:05:08,223 --> 00:05:08,991
这个note

97
00:05:09,247 --> 00:05:10,783
会不断的简简

98
00:05:11,039 --> 00:05:14,879
在这地方有钱捡漏要往上

99
00:05:15,391 --> 00:05:16,671
所以不断的前景

100
00:05:16,927 --> 00:05:20,511
Hi能还要往下所以会不断的加加

101
00:05:21,279 --> 00:05:26,655
不断的加加减减加加减减加加所以这里头要判断是不是

102
00:05:26,911 --> 00:05:30,239
走到了尽头用这个衣服喽

103
00:05:30,751 --> 00:05:33,823
这也都很暴力这个写法都很特别

104
00:05:35,615 --> 00:05:36,127
你不露

105
00:05:36,895 --> 00:05:39,711
那就是要看喽是不是领了这边有

106
00:05:39,967 --> 00:05:45,087
这个不断的减减如果等于楼上的箭头肉就是为0

107
00:05:46,879 --> 00:05:50,719
所以在下一次就是到这是零那就是走到尽头了

108
00:05:51,743 --> 00:05:52,767
这边也是一样

109
00:05:53,023 --> 00:05:59,167
这个还在不断的加加如果加完之后是不是走到尽头的开放了就走到尽头了

110
00:05:59,423 --> 00:06:00,959
就伤害为0

111
00:06:01,471 --> 00:06:04,287
于是下一次进来这个害她就是美国

112
00:06:05,311 --> 00:06:07,103
40或者40

113
00:06:07,359 --> 00:06:08,383
就会退出来

114
00:06:10,175 --> 00:06:12,735
哇这都非常多

115
00:06:12,991 --> 00:06:17,343
这个作者的这个写代码的方式非常独特

116
00:06:18,367 --> 00:06:20,671
不过反正可以运作可以用作

117
00:06:21,695 --> 00:06:22,463
所以

118
00:06:22,719 --> 00:06:25,535
这个follower进来这里有两个判断

119
00:06:26,047 --> 00:06:29,887
如果还没有走到上路的尽头还没有

120
00:06:30,399 --> 00:06:33,983
那就来检查看看吧就这个啊然后这个网上检查

121
00:06:34,751 --> 00:06:36,031
这个往下检查

122
00:06:36,543 --> 00:06:38,847
怎么检查呢夹杀法

123
00:06:39,359 --> 00:06:42,175
我不在你看这个飞行大吗他就是从

124
00:06:42,431 --> 00:06:46,783
起点这个有长度看看指针是不是落在这里

125
00:06:47,807 --> 00:06:49,343
我把这个叫贾沙发

126
00:06:50,879 --> 00:06:55,743
如果没有落在这里头的话如果落在这里都可以看出去

127
00:06:57,279 --> 00:07:00,095
明天出去要坐什么事

128
00:07:00,351 --> 00:07:01,887
刚刚在调用这个函数

129
00:07:02,399 --> 00:07:06,239
最入层出去就找到了救兵吗标起来

130
00:07:07,007 --> 00:07:10,335
飙起来之后就下面就做真正的回收动作

131
00:07:12,639 --> 00:07:14,431
再次回到刚刚这里

132
00:07:16,223 --> 00:07:16,735
所以

133
00:07:17,503 --> 00:07:22,111
这个嘉宾分26所有的s65就是这么早的

134
00:07:29,791 --> 00:07:31,327
有没有可能没有找到

135
00:07:34,655 --> 00:07:35,679
我有一个指针回

136
00:07:36,191 --> 00:07:37,471
回收

137
00:07:38,751 --> 00:07:41,311
在这10000个唱歌里面都找不到

138
00:07:41,567 --> 00:07:43,615
他的归属有没有可能呢

139
00:07:50,015 --> 00:07:52,831
如果这个指针当初是从这个系统给出去的

140
00:07:53,087 --> 00:07:53,855
那就不可能

141
00:07:54,879 --> 00:07:56,927
一定会找到好的归宿

142
00:07:59,743 --> 00:08:00,767
但是如果

143
00:08:01,023 --> 00:08:01,791
是

144
00:08:03,327 --> 00:08:06,143
你你你有没落可拿到的一个支撑

145
00:08:06,911 --> 00:08:13,055
你故意让他出球你看到这段代码好像有点有点重

146
00:08:14,079 --> 00:08:16,639
你男你的一个指针

147
00:08:17,151 --> 00:08:18,431
调用这个函数

148
00:08:19,199 --> 00:08:19,967
他会

149
00:08:20,991 --> 00:08:22,783
找不到结果他会一直

150
00:08:23,295 --> 00:08:24,063
在这个地方

151
00:08:24,575 --> 00:08:25,343
退不出来

152
00:08:26,111 --> 00:08:31,487
小死循环吗无穷无穷的循环

153
00:08:32,767 --> 00:08:34,559
使用者也不知道怎么回事

154
00:08:35,583 --> 00:08:37,375
使用这可能是无意之中

155
00:08:38,655 --> 00:08:39,167
去

156
00:08:39,423 --> 00:08:42,239
去把指针还给他按错了

157
00:08:43,519 --> 00:08:47,359
但是这个地方的没有去做检查的动作

158
00:08:48,895 --> 00:08:49,919
以至于

159
00:08:50,431 --> 00:08:52,735
他不断的在这里面去了吗

160
00:08:54,271 --> 00:08:55,039
这就是

161
00:08:55,551 --> 00:08:56,575
这一段的意思

162
00:08:58,623 --> 00:09:04,767
如果皮并非当初由此系统去的肯定找不到对应的强于是跳不出

163
00:09:05,023 --> 00:09:05,791
不舒服了

164
00:09:06,047 --> 00:09:08,607
于是陷入无穷循环之中

165
00:09:12,191 --> 00:09:17,311
由于它没有做处理屏幕的突然的停在那里都不动了

166
00:09:17,823 --> 00:09:19,871
这个并不是很理想

167
00:09:20,639 --> 00:09:22,943
这个在新的版本已经改掉了

168
00:09:24,479 --> 00:09:29,599
各位可以去试试看一在他这个结构里面你要怎么去改

169
00:09:29,855 --> 00:09:31,647
这个是旧的版本

170
00:09:32,415 --> 00:09:36,255
前面我那个画面说你可以告诉Spark

171
00:09:36,767 --> 00:09:42,911
去找到下载它的源代码那个子已经是新版本你可以拿劳力

172
00:09:43,167 --> 00:09:47,775
鸡蛋和自己去看看怎么改然后比对一下他仙般的改法

173
00:09:48,287 --> 00:09:54,431
新版本仍然是价格在这种暴力则学之下写法差不多但是他加了一两行

174
00:09:54,687 --> 00:09:56,735
就解决了这个问题

175
00:09:57,759 --> 00:09:59,295
我是刻意拿酒吧

176
00:09:59,807 --> 00:10:02,367
让你印象深刻也让你动动脑筋

177
00:10:05,439 --> 00:10:05,951
好

178
00:10:06,207 --> 00:10:10,303
所以我现在听到这找到找到以后就简单了

179
00:10:12,863 --> 00:10:15,423
下一个动作找到以后就简单

180
00:10:19,519 --> 00:10:21,567
各位在马路上看到

181
00:10:22,591 --> 00:10:24,895
公车公交车过来

182
00:10:25,663 --> 00:10:28,223
如果是10号公交车

183
00:10:28,991 --> 00:10:32,575
各位的奇怪会不会说26来了

184
00:10:33,343 --> 00:10:34,623
12路来了

185
00:10:35,647 --> 00:10:37,951
台湾是习惯怎么说

186
00:10:38,207 --> 00:10:39,999
16来了

187
00:10:41,279 --> 00:10:43,583
死在台湾各县市

188
00:10:44,863 --> 00:10:46,143
绝对没有

189
00:10:46,655 --> 00:10:47,679
8号公司

190
00:10:49,215 --> 00:10:51,263
286来了

191
00:10:54,079 --> 00:10:56,383
台湾绝对没有8号公司

192
00:10:57,151 --> 00:11:00,735
如果你听不懂这个笑话那就是你太年轻

193
00:11:02,783 --> 00:11:04,831
不知道86是什么意思

194
00:11:07,903 --> 00:11:08,415
好

195
00:11:08,671 --> 00:11:11,487
那这个是mozilla defined

196
00:11:11,999 --> 00:11:13,279
我们回到上面来

197
00:11:14,815 --> 00:11:20,959
Xfinity find找到了目标之后登记起来接下来要做的是的

198
00:11:21,471 --> 00:11:25,823
Google Ok注真正要做

199
00:11:26,335 --> 00:11:27,871
我们一起喝茶最好去看

200
00:11:29,407 --> 00:11:30,943
Music

201
00:11:31,455 --> 00:11:36,831
这里头找红色的部分就是那根指针被标示出来

202
00:11:37,087 --> 00:11:41,439
目标是要回收到你这个唱个去这个标出来

203
00:11:42,719 --> 00:11:44,767
里头的动作的出行

204
00:11:45,791 --> 00:11:47,839
就调用他你去回收吧

205
00:11:49,375 --> 00:11:52,959
他的兄弟也比较下几天那个兄弟前面已经看过了

206
00:11:53,471 --> 00:11:55,007
所以这件事情就完成了

207
00:11:57,311 --> 00:12:00,127
接下来的动作我不打算带你看

208
00:12:00,383 --> 00:12:03,199
但是我住家写的非常清楚也画成图了

209
00:12:04,223 --> 00:12:06,271
我要告诉你自助解说什么

210
00:12:06,527 --> 00:12:10,879
回收了之后要判断是不是全回收

211
00:12:11,903 --> 00:12:18,047
所以第6行就判断了你回收之后你这个plus available你这个可用区块

212
00:12:18,303 --> 00:12:21,375
有没有等于先前的登记呢

213
00:12:22,143 --> 00:12:28,287
如果等就表示他全回收如果不等不等就医大会通常不错的跳出来就给

214
00:12:28,543 --> 00:12:32,127
结束了就是单纯的第4行就把一个东西回收回去了

215
00:12:32,639 --> 00:12:34,943
如果是全回收

216
00:12:36,223 --> 00:12:37,247
我要做什么事

217
00:12:38,015 --> 00:12:40,319
就好像我们在第3讲

218
00:12:40,575 --> 00:12:41,855
讲到malloc

219
00:12:42,111 --> 00:12:43,135
他的头

220
00:12:43,391 --> 00:12:46,719
有一个地儿延缓的动作

221
00:12:47,231 --> 00:12:51,839
他不恨他不急躁啊他他现在已经确定这个全回收了

222
00:12:53,887 --> 00:12:56,447
如果这个马上还给许大会用药

223
00:12:57,215 --> 00:12:58,239
这个太花时间

224
00:12:59,263 --> 00:13:02,079
所以他总是手上有两个他才换一个

225
00:13:02,335 --> 00:13:03,871
那就是下面这些事情

226
00:13:05,919 --> 00:13:07,455
这个就留在你去看

227
00:13:07,967 --> 00:13:08,991
动作不多

228
00:13:10,015 --> 00:13:15,135
这个地方可以看得出来从我这个图吗上

229
00:13:15,391 --> 00:13:20,255
五秒钟10秒钟你就可以看得出来这个图这是一个Master

230
00:13:21,791 --> 00:13:26,399
在看起来在搭配这里面的中文的注解啊看起来他就是要把

231
00:13:27,167 --> 00:13:30,239
全回收东西放到better的尾巴

232
00:13:31,007 --> 00:13:33,823
有没有很简单的操作可以把

233
00:13:34,079 --> 00:13:35,615
某个元素放到尾巴去

234
00:13:36,639 --> 00:13:38,687
所以他每一次检查

235
00:13:39,199 --> 00:13:42,271
我现在有一个全回收了他他是第2个还是第1个

236
00:13:43,295 --> 00:13:46,879
只要去看看尾巴那个是不是也是全回收

237
00:13:48,159 --> 00:13:50,975
他总是去check尾巴的那个

238
00:13:51,743 --> 00:13:53,279
这样就比较方便

239
00:13:54,303 --> 00:13:55,583
这是他的逻辑

240
00:13:58,911 --> 00:14:01,471
就留给各位看自己经

241
00:14:01,727 --> 00:14:02,239
不是

242
00:14:02,751 --> 00:14:07,103
为什么分配的中重点当然也是重要的一个手法

243
00:14:07,359 --> 00:14:08,639
手段

244
00:14:08,895 --> 00:14:09,663
延缓

245
00:14:09,919 --> 00:14:10,431
严华

246
00:14:10,943 --> 00:14:13,759
他的判断方式我们就不太在乎了

247
00:14:18,111 --> 00:14:18,879
不过

248
00:14:19,903 --> 00:14:21,439
看到这一段代码

249
00:14:23,999 --> 00:14:27,327
因为我现在没有带你去相信他

250
00:14:27,839 --> 00:14:29,119
所以我也

251
00:14:29,375 --> 00:14:34,239
不能告诉你在哪一行怎么样啊但是我要告诉你他这里面有一个bug

252
00:14:36,031 --> 00:14:37,823
这个bug会导致

253
00:14:38,335 --> 00:14:38,847
在这边

254
00:14:39,615 --> 00:14:44,479
以目前的实现湾仔有可能在某种情况下

255
00:14:44,735 --> 00:14:46,783
不归还欠可能系统

256
00:14:47,551 --> 00:14:53,695
并且我已经证实在那种情况之下写代码然后去观察确实他们没有

257
00:14:53,951 --> 00:14:54,463
没有还给

258
00:14:54,719 --> 00:14:55,487
操作系统

259
00:14:56,767 --> 00:14:57,791
在这段

260
00:14:58,047 --> 00:14:59,583
逻辑上还有缺陷

261
00:15:01,887 --> 00:15:03,679
新版本也改好了

262
00:15:05,215 --> 00:15:06,239
这个是旧版本

263
00:15:07,007 --> 00:15:13,151
特别特别列出来让大家做脑力激荡你去看看这样有有问题吗问题在哪里

264
00:15:13,407 --> 00:15:14,175
怎么改

265
00:15:14,687 --> 00:15:15,967
各位可以去试试看

266
00:15:18,783 --> 00:15:19,807
这个就是

267
00:15:20,575 --> 00:15:21,343
我们说

268
00:15:22,367 --> 00:15:25,695
Lpl OK的氛围下中上

269
00:15:26,207 --> 00:15:30,047
那个下呢前面讲过了那个钟那就现在也结束了

270
00:15:34,911 --> 00:15:39,007
我退出了影片的味道前面现在玩网下

271
00:15:40,799 --> 00:15:44,383
他的上那刚刚讲下中上

272
00:15:44,639 --> 00:15:47,199
它的上了它的上部B题

273
00:15:47,711 --> 00:15:52,575
因为那都跟内存的分配无关看一下行的部分

274
00:15:53,343 --> 00:15:55,135
回到前面来

275
00:15:55,391 --> 00:15:56,415
好像这样

276
00:15:57,183 --> 00:15:59,999
我们已经讨论过了单一的强

277
00:16:00,255 --> 00:16:03,327
我们也讨论过执着这一大串

278
00:16:04,351 --> 00:16:05,375
那就是第2次

279
00:16:05,887 --> 00:16:08,191
最高级行的这个

280
00:16:08,703 --> 00:16:11,519
这个的任务只是要找出来

281
00:16:12,031 --> 00:16:18,175
你现在要还或者是你现在要娶你要分配压力有从左到右哪一个

282
00:16:21,247 --> 00:16:27,391
这一串是否20的这个是否是10的这个是否6次就只是去比对去找

283
00:16:27,647 --> 00:16:28,415
找一下

284
00:16:29,183 --> 00:16:30,207
是这个

285
00:16:30,463 --> 00:16:34,815
火力已经是脱离了内存分配内存管理的煮熟了这个

286
00:16:35,071 --> 00:16:36,095
我就不讲

287
00:16:40,191 --> 00:16:42,239
好我们回到刚刚的画面

288
00:16:43,775 --> 00:16:48,895
在接下来就是对于这个Nokia locator的检讨

289
00:16:49,407 --> 00:16:55,295
我们从前面第2讲班的标准库发第3讲的没落卡我们也都有检讨

290
00:16:55,551 --> 00:16:58,879
我们接下来看看能否有什么样的优缺点
